<html>
	<head>
		<meta name="api_key" content="3Uj5hvL773MVNlhFJC5gyVftNh4Qxci3hqoPkU3nAzp9bFJ8UB">
		<link rel="stylesheet" type="text/css" href="lib/bootstrap-combined.min.css">

		<script type="text/x-handlebars" data-template-name="tumblr-app-tmpl">
		    <h1>
		        <a {{action showHome href=true}}>{{view.content.title}}</a>
		    </h1> 
		    {{&view.content.description}} 
		    {{outlet}}
		</script>

		<script type="text/x-handlebars" data-template-name="tumblr-post-tmpl">
		    {{#text}}
		        <h3>{{&view.post.title}}</h3>
		        {{&view.post.body}}
		    {{/text}}
		    
		    {{#photo}}
		        {{#preview}}
		             <a {{action showPost view.content href=true}} class="thumbnail">
		                {{#view Tumblr.PhotoView contentBinding="view.content.photos.firstObject"}}
		                 <img {{bindAttr src="view.photo-url-75.url"}}>
		                {{/view}}
		            </a>
		         {{/preview}}
		    
		         {{#detail}}
		            {{#collection Tumblr.PhotoSetView contentBinding="view.content.photos"}}
		                <img {{bindAttr src="view.photo-url-500.url"}}>
		            {{/collection}}
		            <div class="caption">{{&view.content.caption}}</div>
		        {{/detail}}
		    {{/photo}}
		                
		    {{#quote}}
		        <blockquote>{{view.content.text}}</blockquote>
		        {{&view.content.source}}       
		    {{/quote}}
		     
		    {{#link}}
		        <a {{bindAttr href="view.post.url"}}><h3>{{&view.post.title}}</h3></a>
		        {{&view.post.description}}
		    {{/link}}   

		    {{#chat}}       
		        <h3>{{view.post.title}}</h3>                
		       {{#collection tagName="dl" contentBinding="view.post.dialogue"}}
		            <dt>{{view.content.name}}</dt>
		            <dd>{{view.content.phrase}}</dd>
		        {{/collection}}
		    {{/chat}}
		            
		    {{#audio}}
		         {{&view.post.player}}
		         <dl>
		             <dt>Caption</dt>
		                 <dd>{{&view.post.caption}}</dd>
		             <dt>Plays</dt>
		                 <dd>{{view.post.plays}}</dd>
		             <dt>Artist</dt>
		                 <dd>{{view.post.artist}}</dd>
		             <dt>Album</dt>
		                 <dd>{{view.post.album}}</dd>
		             <dt>Track Name</dt>
		                 <dd>{{view.post.track_name}}</dd>
		             <dt>Track Number</dt>
		                 <dd>{{view.post.track_number}}</dd>
		             <dt>Year</dt>
		                 <dd>{{view.post.year}}</dd>
		    {{/audio}}
		            
		    {{#video}}
		        {{#preview}}
		             <a {{action showPost view.content href=true}} class="thumbnail">                
		                 <img {{bindAttr src="view.content.thumbnail_url"}}>
		            </a>                
		        {{/preview}}
		        {{#detail}}
		            {{#view Tumblr.VideoView contentBinding="view.content.player"}}
		                {{&view.video-embed-250.embed_code}}
		                {{&view.content.caption}}
		            {{/view}}
		        {{/detail}}
		    {{/video}}
		             
		    {{#answer}}
		         <h4><a {{bindAttr href="view.post.asking_url"}}>
		             {{view.post.asking_name}}</a> asks...</h4>
		         <blockquote>{{view.post.question}}</blockquote>
		         {{&view.post.answer}}
		    {{/answer}}
		    
		    {{#detail}}
		        {{#collection tagName="ul" contentBinding="view.content.tags"}}
		            {{&view.content}}
		        {{/collection}}
		         <ul>
		             <li><a {{bindAttr href="view.post.reblogUrl"}}>Reblog</a>
		             <li><a {{bindAttr href="view.post.source_url"}}>
		                 {{view.post.source_title}}</a>
		             <li>
		        </ul>
		    {{/detail}}
		</script> 

	</head>
	<body class="container"></body>

	<script type="text/javascript" src="lib/jquery.js"></script>
	<script type="text/javascript" src="lib/handlebars-1.0.0.beta.6.js"></script>
	<script type="text/javascript" src="lib/ember-latest.min.js"></script>
	<script type="text/javascript" src="lib/jquery.ajaxprogress.js"></script>
	<script type="text/javascript" src="example.js"></script>
	<script type="text/javascript">
		/*  Besides templates, 
			we also need a tumblrJSON
			function we can pull data 
			in with 
		*/
		tumblrJSON = function(resolve) {
			/* In normal cases you would have an ajax call here...

				jQuery.ajax({
					url:'example.json',
					dataType: 'json',
					success: resolve <--- Important!!!
				})
			
			But for this example we'll just wait a second and load it from a variable... */

			Em.run.later(function() {
				resolve(TUMBLR_EXAMPLE_JSON)				
			}, 1000)
		}
	</script>
	<script type="text/javascript" src="../ember-tumblr-lib.js"></script>
</html>